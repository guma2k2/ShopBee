<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head th:replace = "fragments :: page_head">
<body>
	<div th:replace="navigation :: nav"></div>
			<nav class = "navigation_product">
				<ol class="breadcrumb">
					<li class="breadcrumb-item">
						<a th:href="@{/}">Home</a>
					</li>

					<li class="breadcrumb-item">
						<a th:href = "@{'/listSpTheoLoai/'+ ${sanpham.loaiSanPham.id}}">[[${sanpham.loaiSanPham.ten}]]</a>
					</li>
					<li class="breadcrumb-item" th:if="${sanpham != null}">
						<span>[[${sanpham.ten}]]</span>
					</li>

				</ol>
			</nav>
	<div th:if="${message != null}" class="alert alert-success text-center">[[${message}]]</div>
	<div class="product">
		<img class="product_image" th:src="@{${sanpham.photosImagePath}}" alt="Not Found Image">
		<div class="product_details">
			<h1 class="product_name" >[[${sanpham.ten}]]</h1>
			<h2 class="product_price">[[${sanpham.gia}]] đồng </h2>
			<p class="product_detail">[[${sanpham.moTa}]]</p>
			<form th:action = "@{'/cart/add/' + ${sanpham.id}}" method="post" class="add2cart"
				  >
			  <div th:replace = "fragments :: quantityControl(${sanpham.id} , 1)" ></div>
			  <button type="submit" class="product_button">ADD TO CART</button>
			</form>
		</div>
	</div>
	<div class="modal fade text-center" id="modalDialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modalTitle">Warning</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>

				<div class="modal-body">
					<span id="modalBody"></span>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
<script type="text/javascript" th:src = "@{/js/quantityControl.js}"></script>
<script type="text/javascript" >
	productId = "[[${sanpham.id}]]";
</script>
</body>
</html>